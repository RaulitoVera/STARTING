<html>
<title>Python bindings for FLINT</title>
<body>

<h1>Python bindings for FLINT</h1>

<p>The <a href="https://github.com/fredrik-johansson/python-flint">python-flint</a>
project provides a Python interface to the version 2.x series of
<a href="http://www.flintlib.org">FLINT</a> (Fast Library for Number Theory).
FLINT provides fast numerical types (based on MPIR and custom code),
polynomials, matrices, and more features.</p>

<p>The python-flint source code can be downloaded from
the <a href="https://github.com/fredrik-johansson/python-flint">GitHub project page</a>.</p>

<p><b>NOTE</b>: python-flint is currently pre-alpha.
There are known and unknown bugs, and the interface is subject
to change drastically. Any feedback is welcome.
Send bug reports to
<a href="fredrik.johansson@gmail.com">fredrik.johansson@gmail.com</a>.</p>

<h2>Installation</h2>

<p>You first need to install appropriate versions of <tt>mpir</tt>,
<tt>mpfr</tt> and <tt>flint</tt> (in that order).</p>

<p><b>NOTE</b>: currently, you need to clone the repository at
<a href="http://github.com/fredrik-johansson/flint2">http://github.com/fredrik-johansson/flint2</a>
to get a version of FLINT to get a version compatible
with these bindings.</p>

<p>Next, make sure you have <tt>cython</tt> and Python development
headers (the <tt>python-dev</tt> packages in Ubuntu) installed,
and run:

<pre>
python setup.py build_ext --inplace
python setup.py install
python test.py
</pre>

<h2>Documentation</h2>

<p>The following types are provided:</p>

<ul>
<li><tt>nmod</tt>  --  Element of Z/nZ (integer modulo word-size n)</li>
<li><tt>fmpz</tt>  --  Element of Z (arbitrary-precision integer)</li>
<li><tt>fmpq</tt>  --  Element of Q (arbitrary-precision rational number)</li>
<li><tt>nmod_poly</tt> --  Dense univariate polynomial with coefficients in Z/nZ</li>
<li><tt>fmpz_poly</tt> --  Dense univariate polynomial with coefficients in Z</li>
<li><tt>fmpq_poly</tt> --  Dense univariate polynomial with coefficients in Q</li>
<li><tt>nmod_mat</tt> -- Dense matrix with entries in Z/nZ</li>
<li><tt>fmpz_mat</tt> -- Dense matrix with entries in Z</li>
<li><tt>fmpq_mat</tt> -- Dense matrix with entries in Q</li>
</ul>

<p>The types support most arithmetic operations.</p>

<p>Examples of operations with numbers:</p>

<pre>
>>> import flint
>>> flint.nmod(10,17) * 2
nmod(3, 17)
>>> flint.fmpz(3) ** 25
fmpz(847288609443)
>>> flint.fmpq(1,7) + flint.fmpq(50,51)
fmpq(401,357)
</pre>

<p>Examples of operations with polynomials:</p>

<pre>
>>> flint.nmod_poly([1,2,3],23) ** 3
nmod_poly([1L, 6L, 21L, 21L, 17L, 8L, 4L], 23)
>>> flint.fmpz_poly([1,2,3]) ** 3
fmpz_poly([1, 6, 21, 44, 63, 54, 27])
>>> flint.fmpq_poly([1,2,3],5) ** 3
fmpq_poly([1, 6, 21, 44, 63, 54, 27], 125)
>>> print _
27/125*x^6 + 54/125*x^5 + 63/125*x^4 + 44/125*x^3 + 21/125*x^2 + 6/125*x + 1/125
>>> divmod(nmod_poly([2,0,1,1,6],23), nmod_poly([3,5,7],23))
(nmod_poly([4L, 0L, 14L], 23), nmod_poly([13L, 3L], 23))
>>> divmod(fmpq_poly([2,0,1,1,6]), fmpq_poly([3,5,7]))
(fmpq_poly([38, -161, 294], 343), fmpq_poly([572, 293, 0, 0, 0], 343))
>>> divmod(fmpz_poly([2,0,1,1,6]), fmpz_poly([3,5,7]))
(fmpz_poly([]), fmpz_poly([2, 0, 1, 1, 6]))
</pre>

<p>Examples of operations with matrices:</p>
<pre>
>>> flint.nmod_mat(2,2,[1,2,3,4],17).det()
nmod(15, 17)
>>> flint.fmpz_mat(2,2,[1,2,3,4]).det()
fmpz(-2)
>>> (flint.fmpq_mat(2,2,[1,2,3,4]) / 5).det()
fmpq(-2,25)
>>> A = fmpq_mat(3,3,[1,3,5,2,4,6,fmpq(2,3),2,4])
>>> print (~A)
[-3/1,  3/2,  3/2]
[ 3/1, -1/2, -3/1]
[-1/1,  0/1,  3/2]
>>> print (~A) * A
[1/1, 0/1, 0/1]
[0/1, 1/1, 0/1]
[0/1, 0/1, 1/1]
</pre>


<p>See test.py for remaining currently supported operations.</p>

<h2>Notes / bugs</h2>
<ul>
<li>Most functionality in FLINT is not yet wrapped!</li>
<li>The code needs to be cleaned up.</li>
<li>Coercions are not supported in all directions.</li>
<li>Conversion between Python longs and fmpzs is not done efficiently.</li>
<li>Types don't support hasing.</li>
<li>Interaction with gmpy types (and types from many other libraries) is not supported.</li>
<li>Currently no pool mechanism is provided for Python objects, making
  most operations a bit slower than necessary (this mostly affects
  fmpz and nmod). There is also some unnecessary overhead
  in the methods.</li>
<li>If FLINT has been compiled in 'single' mode, it will never release memory
  allocated internally for mpzs. This is not typically a problem, as the
  memory simply gets reused when needed, but it would be nice to at
  least provide a function for manually freeing allocated memory.</li>
<li>There are probably some memory leaks in the wrapper code.</li>
</ul>

</body>
</html>